<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>☆ sweep.js ☆</title>
  <link href='http://fonts.googleapis.com/css?family=Cabin:400,600italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="styles.css">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
  <header id="header">
    <p>A JavaScript library for smoother color transitions</p>
    <h1 id="sweepjs">sweep.js</h1>
    <ul>
      <li><a data-scroll href="#about">About</a></li>
      <li><a data-scroll href="#install">Install</a></li>
      <li><a data-scroll href="#usage">Usage</a></li>
      <li><a href="http://www.github.com/rileyjshaw/sweep">GitHub</a></li>
    </ul>
  </header>

  <h2 id="about">About</h2>
    <p><strong>sweep.js</strong> is a small JavaScript library (5kb zipped) that enables proper color transitions through the HSL and <a href="http://www.boronine.com/husl/">HUSL</a> spaces. Ordinary CSS transitions and existing frameworks convert HSL colors to RGB <em>before</em> transitioning. <strong>sweep.js</strong> addresses this by letting you transition through the color spectrum.</p>
    <p>I've written an in-depth post about the need for HSL transitions <a href="http://rileyjshaw.com/blog/hue-angle-transitions/">here</a>.</p>

  <h2 id="install">Install</h2>
    <p>As a bundle:</p>
    <pre><code class="language-bash">bower install -S sweep</code></pre>
    <p>As a standalone library:</p>
    <pre><code class="language-markup">&lt;script src="//cdn.jsdelivr.net/sweep/latest/mainfile"&gt;&lt;/script&gt;</code></pre>
    <p>...or just <a href="https://github.com/rileyjshaw/sweep/tree/master/bin/sweep.min.js">visit the repo</a>.</p>

    <p>Sweep's dependencies are bundled; all you have to do is include the script. Sweep is wrapped with <a href="https://github.com/umdjs/umd">UMD</a>, so it will also work as a module in your system of choice.</p>

  <h2 id="usage">Usage</h2>
  <p>Using <strong>sweep.js</strong> to transition an element's color is easy. Whenever you want to trigger an HSL sweep, call:</p>
  <pre><code class="language-javascript">sweep(target, properties, fromColor, toColor[, options]);</code></pre>
    <ul>
      <li><code class="language-javascript">target</code> : element that you wish to animate</li>
      <li><code class="language-javascript">properties</code> : CSS properties that you wish to animate (string or array of strings)</li>
      <li><code class="language-javascript">fromColor</code> : initial color before the transition</li>
      <li><code class="language-javascript">toColor</code> : final color after the transition</li>
      <li><code class="language-javascript">options</code> (optional) : an object that can set the following:
        <ul>
          <li><code class="language-javascript">callback</code> : function to be called once the animation finishes</li>
          <li><code class="language-javascript">direction</code> : clockwise (1) or counterclockwise (-1)</li>
          <li><code class="language-javascript">duration</code> : time (in ms) to complete the animation</li>
          <li><code class="language-javascript">space</code> : 'HSL', 'HUSL', or 'RGB'</li>
        </ul>
      </li>
    </ul>

  <p>an animation object with <code class="language-javascript">pause</code> and <code class="language-javascript">resume</code> methods is returned, which can be used like this:</p>
  <pre class="methods"><code class="language-javascript">// starts the animation
var transition = sweep(target, properties, fromColor, toColor[, options]);

// stops the animation
transition.pause();

// resumes the animation
transition.pause();</code></pre>

  <h2>Examples</h2>

    <pre><code class="language-javascript">//click

var ex1 = document.querySelector('#ex1');
ex1.addEventListener('click', function() {
  sweep(ex1, 'backgroundColor', '#a8f', '#a8f', {direction: -1, duration: 2000});
}, false);</code></pre>

    <div id="ex1" class="example"><p>Click</p></div>

    <pre><code class="language-javascript">//hover

var ex2 = document.querySelector('#ex2'), transition;

ex2.addEventListener('mouseenter', function() {
  if (transition) transition.pause();
  transition = sweep(ex2, 'backgroundColor', getStyle(ex2, 'background-color'), '#0fa');
}, false);

ex2.addEventListener('mouseleave', function() {
  if (transition) transition.pause();
  transition = sweep(ex2, 'backgroundColor', getStyle(ex2, 'background-color'), '#a8f');
}, false);</code></pre>

    <div id="ex2" class="example"><p>Hover</p></div>

  <p class="standalone"><a href="http://www.github.com/rileyjshaw/sweep">Check it out on GitHub</a></p>

  <footer>Created by <a href="http://rileyjshaw.com">rileyjshaw</a></footer>

  <script src="sweep.min.js"></script>
  <script>
    ;(function() {
      // http://www.quirksmode.org/dom/getstyles.html
      function getStyle (el, styleProp) {
        if (el.currentStyle)
          var y = el.currentStyle[styleProp];
        else if (window.getComputedStyle)
          var y = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);
        return y;
      }

      function checkScroll (event) {
        if (document.body.scrollTop >= 264) {
          body.className = 'sticky';
        } else {
          body.className = '';
        }
      };

      function loop () {
        sweep(body, ['color', 'border-color'], 'hsl(0, 1, 0.5)', 'hsl(359, 1, 0.5)', {
          callback: loop,
          direction: 1,
          duration: 10000,
          space: 'HUSL'
        });
      }

      var body = document.body;
      var ex1 = document.getElementById('ex1');
      var ex2 = document.getElementById('ex2');
      var transition;

      /*prism.js*/var self=typeof window!="undefined"?window:{},Prism=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content)):t.util.type(e)==="Array"?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t.util.clone(e[i]));return r;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var s=i[e],o={};for(var u in s)if(s.hasOwnProperty(u)){if(u==n)for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);o[u]=s[u]}return i[e]=o},DFS:function(e,n){for(var r in e){n.call(e,r,e[r]);t.util.type(e)==="Object"&&t.languages.DFS(e[r],n)}}},highlightAll:function(e,n){var r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var i=0,s;s=r[i++];)t.highlightElement(s,e===!0,n)},highlightElement:function(r,i,s){var o,u,a=r;while(a&&!e.test(a.className))a=a.parentNode;if(a){o=(a.className.match(e)||[,""])[1];u=t.languages[o]}if(!u)return;r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+o;a=r.parentNode;/pre/i.test(a.nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var f=r.textContent;if(!f)return;var l={element:r,language:o,grammar:u,code:f};t.hooks.run("before-highlight",l);if(i&&self.Worker){var c=new Worker(t.filename);c.onmessage=function(e){l.highlightedCode=n.stringify(JSON.parse(e.data),o);t.hooks.run("before-insert",l);l.element.innerHTML=l.highlightedCode;s&&s.call(l.element);t.hooks.run("after-highlight",l)};c.postMessage(JSON.stringify({language:l.language,code:l.code}))}else{l.highlightedCode=t.highlight(l.code,l.grammar,l.language);t.hooks.run("before-insert",l);l.element.innerHTML=l.highlightedCode;s&&s.call(r);t.hooks.run("after-highlight",l)}},highlight:function(e,r,i){var s=t.tokenize(e,r);return n.stringify(t.util.encode(s),i)},tokenize:function(e,n,r){var i=t.Token,s=[e],o=n.rest;if(o){for(var u in o)n[u]=o[u];delete n.rest}e:for(var u in n){if(!n.hasOwnProperty(u)||!n[u])continue;var a=n[u],f=a.inside,l=!!a.lookbehind,c=0;a=a.pattern||a;for(var h=0;h<s.length;h++){var p=s[h];if(s.length>e.length)break e;if(p instanceof i)continue;a.lastIndex=0;var d=a.exec(p);if(d){l&&(c=d[1].length);var v=d.index-1+c,d=d[0].slice(c),m=d.length,g=v+m,y=p.slice(0,v+1),b=p.slice(g+1),w=[h,1];y&&w.push(y);var E=new i(u,f?t.tokenize(d,f):d);w.push(E);b&&w.push(b);Array.prototype.splice.apply(s,w)}}}return s},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[];r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(!r||!r.length)return;for(var i=0,s;s=r[i++];)s(n)}}},n=t.Token=function(e,t){this.type=e;this.content=t};n.stringify=function(e,r,i){if(typeof e=="string")return e;if(Object.prototype.toString.call(e)=="[object Array]")return e.map(function(t){return n.stringify(t,r,e)}).join("");var s={type:e.type,content:n.stringify(e.content,r,i),tag:"span",classes:["token",e.type],attributes:{},language:r,parent:i};s.type=="comment"&&(s.attributes.spellcheck="true");t.hooks.run("wrap",s);var o="";for(var u in s.attributes)o+=u+'="'+(s.attributes[u]||"")+'"';return"<"+s.tag+' class="'+s.classes.join(" ")+'" '+o+">"+s.content+"</"+s.tag+">"};if(!self.document){if(!self.addEventListener)return self.Prism;self.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.language,i=n.code;self.postMessage(JSON.stringify(t.tokenize(i,t.languages[r])));self.close()},!1);return self.Prism}var r=document.getElementsByTagName("script");r=r[r.length-1];if(r){t.filename=r.src;document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)}return self.Prism}();typeof module!="undefined"&&module.exports&&(module.exports=Prism);;
      Prism.languages.markup={comment:/<!--[\w\W]*?-->/g,prolog:/<\?.+?\?>/,doctype:/<!DOCTYPE.+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^<\/?[\w:-]+/i,inside:{punctuation:/^<\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/\&#?[\da-z]{1,8};/gi};Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});;
      Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/ig,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/ig,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};;
      Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g});Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}});Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/ig,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}});;
      Prism.languages.bash=Prism.languages.extend("clike",{comment:{pattern:/(^|[^"{\\])(#.*?(\r?\n|$))/g,lookbehind:!0},string:{pattern:/("|')(\\?[\s\S])*?\1/g,inside:{property:/\$([a-zA-Z0-9_#\?\-\*!@]+|\{[^\}]+\})/g}},keyword:/\b(if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)\b/g});Prism.languages.insertBefore("bash","keyword",{property:/\$([a-zA-Z0-9_#\?\-\*!@]+|\{[^}]+\})/g});Prism.languages.insertBefore("bash","comment",{important:/(^#!\s*\/bin\/bash)|(^#!\s*\/bin\/sh)/g});

      /** smooth-scroll v5.0.0, by Chris Ferdinandi | http://github.com/cferdinandi/smooth-scroll | Licensed under MIT: http://gomakethings.com/mit/ */
      !function(e,t){"function"==typeof define&&define.amd?define("smoothScroll",t(e)):"object"==typeof exports?module.smoothScroll=t(e):e.smoothScroll=t(e)}(this,function(e){"use strict";var t,n={},o=!!document.querySelector&&!!e.addEventListener,a={speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callbackBefore:function(){},callbackAfter:function(){}},c=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var a=0,c=e.length;c>a;a++)t.call(n,e[a],a,e)},r=function(e,t){var n={};return c(e,function(t,o){n[o]=e[o]}),c(t,function(e,o){n[o]=t[o]}),n},u=function(e,t){var n;return"easeInQuad"===e&&(n=t*t),"easeOutQuad"===e&&(n=t*(2-t)),"easeInOutQuad"===e&&(n=.5>t?2*t*t:-1+(4-2*t)*t),"easeInCubic"===e&&(n=t*t*t),"easeOutCubic"===e&&(n=--t*t*t+1),"easeInOutCubic"===e&&(n=.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(n=t*t*t*t),"easeOutQuart"===e&&(n=1- --t*t*t*t),"easeInOutQuart"===e&&(n=.5>t?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(n=t*t*t*t*t),"easeOutQuint"===e&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e&&(n=.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},i=function(e,t,n){var o=0;if(e.offsetParent)do o+=e.offsetTop,e=e.offsetParent;while(e);return o=o-t-n,o>=0?o:0},l=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},f=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},s=function(e,t){history.pushState&&(t||"true"===t)&&history.pushState({pos:e.id},"",window.location.pathname+e)};return n.animateScroll=function(t,n,o,c){var d=r(d||a,o||{}),p=f(t?t.getAttribute("data-options"):null);d=r(d,p);var m,h,b,O=document.querySelector("[data-scroll-header]"),g=null===O?0:O.offsetHeight+O.offsetTop,v=e.pageYOffset,y=i(document.querySelector(n),g,parseInt(d.offset,10)),S=y-v,I=l(),Q=0;t&&"a"===t.tagName.toLowerCase()&&c&&c.preventDefault(),s(n,d.updateURL);var H=function(o,a,c){var r=e.pageYOffset;(o==a||r==a||e.innerHeight+r>=I)&&(clearInterval(c),d.callbackAfter(t,n))},j=function(){Q+=16,h=Q/parseInt(d.speed,10),h=h>1?1:h,b=v+S*u(d.easing,h),e.scrollTo(0,Math.floor(b)),H(b,y,m)},k=function(){d.callbackBefore(t,n),m=setInterval(j,16)};0===e.pageYOffset&&e.scrollTo(0,0),k()},n.init=function(e){if(o){t=r(a,e||{});var u=document.querySelectorAll("[data-scroll]");c(u,function(e){e.addEventListener("click",n.animateScroll.bind(null,e,e.hash,t),!1)})}},n});

      ex1.addEventListener('click', function() {
        sweep(ex1, 'backgroundColor', '#a8f', '#a8f', {direction: -1, duration: 2000});
      }, false);

      ex2.addEventListener('mouseenter', function() {
        if (transition) transition.pause();
        transition = sweep(ex2, 'backgroundColor', getStyle(ex2, 'background-color'), '#0fa');
      }, false);

      ex2.addEventListener('mouseleave', function() {
        if (transition) transition.pause();
        transition = sweep(ex2, 'backgroundColor', getStyle(ex2, 'background-color'), '#a8f');
      }, false);

      document.addEventListener('scroll', checkScroll);

      loop();
      smoothScroll.init({
        offset: 144
      });
    })();
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48709534-3', 'auto');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  </script>
</body>
</html>
